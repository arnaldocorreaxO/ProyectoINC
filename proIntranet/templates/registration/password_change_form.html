{% extends "base.html" %}

{% block head_content %}
	<title>Resetear Contraseña Intranet INC</title>
{% endblock %}

{% block container%}	

<!-- FORMAS DE ACTION DE UN FORMULARIO -->
<!-- <form method="POST" action="."></form> 	EL PUNTO INDICA QUE VA A EJECUTAR LA MISMA URL ACTUAL EN ESTE CASO /usuario/login-->
<!-- <form method="POST" action="usuarios/login"></form> EXPLICITAMENTE LE DECIMOS QUE URL EJECUTAR-->
<!-- <form method="POST" action="{% url 'login' %}"> UTILIDAD DE DJANGO TAG URL -->

{% load static %}
		<div class="container h-100">
        	<div class="row h-100 justify-content-center align-items-center small">
            	<div class="col-sm-12 col-md-6 col-lg-6 pt-2 pl-5 pr-5 pb-5" id="auth-container">
            		  <!-- <img src="{% static 'img/logo_hd.png' %}" class="img-fluid rounded mx-auto d-block pb-4" style="max-width: 25%;"> -->
					<form method="POST" action="{% url 'password_change' %}">
						{% csrf_token %}
						
						<!-- ERROR GENERAL __all__ -->
						<div class="text-danger">
							{% for error in form.non_field_errors %}
								<!-- <p>{{ error }}</p> -->
								<p class="alert alert-danger">{{ error }}</p>
							{% endfor %}
						</div>
						<p class="alert alert-dark text-center"><b>Resetear mi Contraseña</b></p>
						<p class="text-justify">Por favor, introduzca su contraseña antigua, por seguridad, y después introduzca la nueva contraseña dos veces para verificar que la ha escrito correctamente.</p>
						<div class="dropdown-divider"></div>
						<!-- CONTRASEÑA ANTIGUA -->
						<div class="form-group row required">
							<label for="old_password" class="col-md-4">
								Contraseña Actual
								<span class="fa fa-asterisk"> </span>
							</label>
							<div class="col-md-8">
								<input class="form-control" type="password" placeholder="Contraseña actual" name="old_password"/>
								<div class="text-danger">
									{% for error in form.old_password.errors %}
										<!-- {{ error }} -->
										<p class="alert alert-danger">{{ error }}</p>
									{% endfor %}
								</div>

							</div>
							
						</div>
						<!-- CONTRASEÑA NUEVA -->
						<div class="form-group row required">
							<label for="old_password" class="col-md-4">
							Contraseña Nueva
								<span class="fa fa-asterisk"> </span>
							</label>
							<div class="col-md-8">
								<input class="form-control" type="password" placeholder="Contraseña nueva" name="new_password1"/>
								<div class="text-danger">
									{% for error in form.new_password1.errors %}
										<!-- {{ error }} -->
										<p class="alert alert-danger">{{ error }}</p>
									{% endfor %}
								</div>
							</div>
							
						</div>
						<!-- CONTRASEÑA CONFIRMAR -->
						<div class="form-group row required">
							<label for="old_password" class="col-md-4">
							Contraseña Nueva (Confirmar)
								<span class="fa fa-asterisk"> </span>
							</label>
							<div class="col-md-8">
								<input class="form-control" type="password" placeholder="Contraseña nueva (confirmar)" name="new_password2"/>
								<div class="text-danger">
									{% for error in form.new_password2.errors %}
										<!-- {{ error }} -->
										<p class="alert alert-danger">{{ error }}</p>
									{% endfor %}
								</div>
							</div>
							
							<div class="dropdown-divider"></div>
							<div class="help">
								<ul>
									<li>Su contraseña no puede asemejarse tanto a su otra información personal.</li>
									<li>Su contraseña debe contener al menos 8 caracteres.</li>
									<li>Su contraseña no puede ser una clave utilizada comunmente.</li>
									<li>Su contraseña no puede ser completamente numérica.</li>
								</ul>
							</div>
						</div>
							
							<button class="btn btn-secondary btn-block mt-5" type="submit" ><span class="glyphicon glyphicon-log-in"></span>
								Cambiar mi contraseña
							</button>
						
						
					</form>
			</div>
		</div>
{% endblock%}

